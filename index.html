<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI MASTERPIECE ARCADE - LEGEND</title>
    <style>
        :root { --bg: #050505; --card: #111; --accent: #ff0044; --text: #fff; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: var(--bg); color: var(--text); font-family: 'Hiragino Mincho ProN', serif; overflow: hidden; }
        header { padding: 30px; text-align: center; background: linear-gradient(to bottom, #200, var(--bg)); }
        header h1 { font-size: 2rem; font-weight: 900; letter-spacing: 10px; margin: 0; font-style: italic; border-bottom: 2px solid var(--accent); display: inline-block; }
        .container { max-width: 1100px; margin: 0 auto; padding: 20px; display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 15px; }
        .game-card { background: var(--card); border: 1px solid #333; border-radius: 10px; overflow: hidden; cursor: pointer; transition: 0.3s; position: relative; }
        .game-card:hover { transform: translateY(-5px); border-color: var(--accent); box-shadow: 0 5px 20px rgba(255, 0, 68, 0.4); }
        .game-thumb { height: 90px; background: #000; display: flex; align-items: center; justify-content: center; font-size: 2rem; }
        .game-info { padding: 10px; text-align: center; font-size: 0.7rem; font-weight: bold; text-transform: uppercase; }
        #modal { position: fixed; inset: 0; background: #000; z-index: 9999; display: none; }
        #game-frame { width: 100%; height: 100%; border: none; }
        .close-btn { position: absolute; top: 15px; right: 15px; background: var(--accent); color: white; border: none; padding: 10px 20px; cursor: pointer; z-index: 10001; font-weight: bold; border-radius: 5px; }
    </style>
</head>
<body>

    <header><h1>STUDIO AI: Ê•µ</h1></header>

    <div class="container">
        <div class="game-card" onclick="openGame('g1')"><div class="game-thumb">üç™</div><div class="game-info">LEMON REV</div></div>
        <div class="game-card" onclick="openGame('g2')"><div class="game-thumb">üèπ</div><div class="game-info">CYBER SHOOTER</div></div>
        <div class="game-card" onclick="openGame('g3')"><div class="game-thumb">‚ö™</div><div class="game-info">ZEN REFLEX</div></div>
        <div class="game-card" onclick="openGame('g4')"><div class="game-thumb">‚öîÔ∏è</div><div class="game-info">VIRTUAL SLASHER</div></div>
        <div class="game-card" onclick="openGame('g5')" style="border: 2px solid var(--accent);"><div class="game-thumb">üêâ</div><div class="game-info" style="color:var(--accent)">NEON BRAWLER</div></div>
    </div>

    <div id="modal">
        <button class="close-btn" onclick="closeGame()">ÁµÇ‰∫Ü</button>
        <iframe id="game-frame" sandbox="allow-scripts allow-same-origin"></iframe>
    </div>

    <script>
        const games = {
            // g1~g4„ÅØ‰ª•Ââç„ÅÆÂÆâÂÆöÁâà„Ç≥„Éº„Éâ„Çí‰øùÊåÅ
            g5: `<!DOCTYPE html><html><body style="margin:0;background:#000;overflow:hidden;font-family:serif;"><canvas id="c"></canvas><div id="ov" style="position:fixed;inset:0;background:rgba(0,0,0,0.9);color:#fff;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:100;border:10px solid #ff0044;"><h1>NEON BRAWLER Ê•µ</h1><p id="msg">„ÄêSPACE„Ç≠„Éº„Äë„ÅßÂë®Âõ≤„ÅÆÊïµ„ÇíÂêπ„ÅçÈ£õ„Å∞„ÅõÔºÅ</p><button id="btn" onclick="st()" style="background:#ff0044;color:#fff;border:none;padding:20px 40px;font-size:1.5rem;cursor:pointer;font-weight:bold;box-shadow: 0 0 15px #ff0044;">ÊÆ¥„ÇäËæº„Åø</button></div><script>
            let canvas, ctx, ac, isPlaying = false, enemies = [], px = 0, py = 0, heat = 0, hp = 100, shake = 0, hitStop = 0, flash = 0, blueFlash = 0;
            window.onmousemove = (e) => { px = e.clientX; py = e.clientY; };
            
            function st() {
                canvas = document.getElementById('c'); ctx = canvas.getContext('2d');
                canvas.width = window.innerWidth; canvas.height = window.innerHeight;
                ac = new AudioContext(); enemies = []; heat = 0; hp = 100; shake = 0; hitStop = 0;
                isPlaying = true; document.getElementById('ov').style.display = 'none'; loop();
            }

            function pl(f, t, v, d = 0.2) {
                if (!ac) return; const o = ac.createOscillator(), g = ac.createGain();
                o.type = t; o.frequency.setValueAtTime(f, ac.currentTime);
                g.gain.setValueAtTime(v, ac.currentTime); g.gain.linearRampToValueAtTime(0, ac.currentTime + d);
                o.connect(g); g.connect(ac.destination); o.start(); o.stop(ac.currentTime + d);
            }

            // „Çπ„Éö„Éº„Çπ„Ç≠„ÉºÂÖ•Âäõ
            window.addEventListener('keydown', (e) => {
                if (e.code === 'Space' && isPlaying && heat >= 30) {
                    heat -= 30;
                    blueFlash = 0.8;
                    shake = 50;
                    pl(40, 'sawtooth', 0.8, 0.8); // ÁàÜÁô∫Èü≥
                    // Âë®Âõ≤„ÅÆÊïµ„ÇíÊ∂àÊªÖ
                    enemies = enemies.filter(en => {
                        let dist = Math.hypot(en.x - px, en.y - py);
                        return dist > 300; // ÂçäÂæÑ300pxÂ§ñ„ÅÆÊïµ„Å†„ÅëÊÆã„Åô
                    });
                }
            });

            window.onmousedown = () => {
                if (!isPlaying) return; pl(60, 'square', 0.4); shake = 10;
                for (let i = enemies.length - 1; i >= 0; i--) {
                    let en = enemies[i];
                    if (Math.hypot(en.x - px, en.y - py) < 60) {
                        enemies.splice(i, 1); heat = Math.min(100, heat + 12);
                        hitStop = 6; shake = 30; pl(150, 'sawtooth', 0.6, 0.4); return;
                    }
                }
            };

            function loop() {
                if (!isPlaying) return;
                if (hitStop > 0) { hitStop--; requestAnimationFrame(loop); return; }
                
                // ËÉåÊôØÊèèÁîª
                ctx.fillStyle = 'black';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                
                // „ÉÄ„É°„Éº„Ç∏„Éï„É©„ÉÉ„Ç∑„É•ÔºàËµ§Ôºâ
                if(flash > 0) {
                    ctx.fillStyle = \`rgba(255,0,0,\${flash})\`;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    flash -= 0.05;
                }
                // Ê•µÊäÄ„Éï„É©„ÉÉ„Ç∑„É•ÔºàÈùíÔºâ
                if(blueFlash > 0) {
                    ctx.fillStyle = \`rgba(0,100,255,\${blueFlash})\`;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    blueFlash -= 0.05;
                    // Ë°ùÊíÉÊ≥¢„Ç®„Éï„Çß„ÇØ„Éà
                    ctx.strokeStyle = \`rgba(255,255,255,\${blueFlash})\`;
                    ctx.lineWidth = 10;
                    ctx.beginPath();
                    ctx.arc(px, py, (1-blueFlash)*600, 0, Math.PI*2);
                    ctx.stroke();
                }

                if (Math.random() < 0.03 + (heat/1000)) {
                    enemies.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, timer: 0 });
                }

                ctx.save();
                if (shake > 0) { ctx.translate((Math.random() - 0.5) * shake, (Math.random() - 0.5) * shake); shake *= 0.85; }

                enemies.forEach((e, i) => {
                    e.timer++;
                    let dx = px - e.x, dy = py - e.y, dist = Math.hypot(dx, dy);
                    if(e.timer > 60) {
                        e.x += (dx / dist) * 7; e.y += (dy / dist) * 7;
                        ctx.fillStyle = '#ff0000';
                        if(dist < 35) {
                            hp -= 8; flash = 0.6; shake = 25; pl(50, 'sawtooth', 0.7);
                            enemies.splice(i, 1);
                        }
                    } else {
                        ctx.fillStyle = '#ff0044';
                    }
                    ctx.font = 'bold 45px serif';
                    ctx.fillText('Êïµ', e.x - 20, e.y + 15);
                    ctx.strokeStyle = '#fff'; ctx.lineWidth = 1;
                    ctx.strokeRect(e.x - 35, e.y - 35, 70, 70);
                });
                ctx.restore();

                // UI
                ctx.fillStyle = '#fff'; ctx.font = '16px serif'; ctx.fillText('HEAT (Ê•µÊäÄÁî®: 30‰ª•‰∏ä„ÅßSpace)', 20, 20);
                ctx.fillStyle = '#0ff'; ctx.fillRect(20, 25, heat * 3, 8);
                ctx.fillStyle = '#fff'; ctx.fillText('HP', 20, 50);
                ctx.fillStyle = '#0f0'; ctx.fillRect(20, 55, hp * 3, 12);
                
                if (heat > 0) heat -= 0.05;
                if (hp <= 0) {
                    isPlaying = false; document.getElementById('msg').innerText = 'Ê≠ªÈóò„ÅÆÊûú„Å¶„Å´ÂÄí„Çå„Åü...';
                    document.getElementById('ov').style.display = 'flex';
                }

                ctx.fillStyle = '#fff'; ctx.beginPath(); ctx.arc(px, py, 10, 0, Math.PI * 2); ctx.fill();
                requestAnimationFrame(loop);
            }
            <\/script></body></html>`
        };

        function openGame(id) {
            const modal = document.getElementById('modal');
            const frame = document.getElementById('game-frame');
            modal.style.display = 'block';
            frame.srcdoc = games[id];
        }
        function closeGame() {
            const modal = document.getElementById('modal');
            const frame = document.getElementById('game-frame');
            modal.style.display = 'none';
            frame.srcdoc = '';
        }
    </script>
</body>
</html>
